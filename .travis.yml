language: node_js

node_js:
  - 8.9.4

sudo: true

env:
  - CXX=g++-4.8
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8

services:
  - postgresql

before_script:
  - cd Training_node/first_project
  - psql -c "CREATE DATABASE first_project;" -U postgres
  - psql -c "CREATE ROLE first_project WITH SUPERUSER CREATEDB LOGIN PASSWORD 'first_project';" -d first_project
  - npm install
  - npm run migrations
